import{d as C,o as r,f as c,b as a,_ as d,D as w,L as b,l as Z,u as k,M as S,N as y,O as g,Q as T,R as V,a as o,S as R,n as Q,T as G,v as x,e as p,j as U,t as B,h as L,F as q,r as P,c as v,w as D,B as E,U as F,g as O,x as z,K}from"./index-LOE-gbzf.js";import{u as $,r as j}from"./updateUrlQuery-BTnRic-4.js";const J=["width","height"],A=C({__name:"IconClose",props:{width:{},height:{}},setup(l){return(e,t)=>(r(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 24 24",fill:"#ffffff"},t[0]||(t[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"},null,-1)]),8,J))}}),N=d(A,[["__scopeId","data-v-0b7f41b2"]]),H={class:"searchField"},W=C({__name:"SearchField",setup(l){const e=w(),t=b(),s=Z(e.query.search||"");let n=null;k({queryKey:["searchGames",e.query],queryFn:()=>S({page_size:20,page:1,...e.query}),staleTime:1e3*60*5});const i=()=>{s.value=""};return y(()=>s.value,_=>{clearTimeout(n),n=setTimeout(()=>{$(t,{search:_,page:1})},500)}),y(()=>e.query.search,()=>{e.query.search||(s.value="")}),(_,u)=>(r(),c("div",H,[g(a("input",{class:"searchField__input","onUpdate:modelValue":u[0]||(u[0]=h=>s.value=h),type:"text",placeholder:"Search games"},null,512),[[T,s.value]]),g(a("span",{onClick:i,class:"searchField__clear"},[o(N,{width:24,height:24})],512),[[V,s.value]])]))}}),X=d(W,[["__scopeId","data-v-2c9ab11f"]]),Y={},e1={width:"29",height:"22",viewBox:"0 0 24 17",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"};function t1(l,e){return r(),c("svg",e1,e[0]||(e[0]=[a("rect",{width:"22",height:"2",rx:"1.5"},null,-1),a("rect",{y:"7",width:"22",height:"2",rx:"1.5"},null,-1),a("rect",{y:"14",width:"22",height:"2",rx:"1.5"},null,-1)]))}const s1=d(Y,[["render",t1],["__scopeId","data-v-1d922b00"]]),a1={},o1={width:"22",fill:"#fff",height:"21",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"};function r1(l,e){return r(),c("svg",o1,e[0]||(e[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.16667 0C3.36328 0 4.33333 0.970049 4.33333 2.16667C4.33333 3.36328 3.36328 4.33333 2.16667 4.33333C0.970049 4.33333 0 3.36328 0 2.16667C0 0.970049 0.970049 0 2.16667 0ZM10.8333 0C12.03 0 13 0.970049 13 2.16667C13 3.36328 12.03 4.33333 10.8333 4.33333C9.63668 4.33333 8.66667 3.36328 8.66667 2.16667C8.66667 0.970049 9.63668 0 10.8333 0ZM21.6667 2.16667C21.6667 0.970049 20.6967 0 19.5 0C18.3034 0 17.3333 0.970049 17.3333 2.16667C17.3333 3.36328 18.3034 4.33333 19.5 4.33333C20.6967 4.33333 21.6667 3.36328 21.6667 2.16667ZM2.16667 8.66667C3.36328 8.66667 4.33333 9.63668 4.33333 10.8333C4.33333 12.03 3.36328 13 2.16667 13C0.970049 13 0 12.03 0 10.8333C0 9.63668 0.970049 8.66667 2.16667 8.66667ZM13 10.8333C13 9.63668 12.03 8.66667 10.8333 8.66667C9.63668 8.66667 8.66667 9.63668 8.66667 10.8333C8.66667 12.03 9.63668 13 10.8333 13C12.03 13 13 12.03 13 10.8333ZM19.5 8.66667C20.6967 8.66667 21.6667 9.63668 21.6667 10.8333C21.6667 12.03 20.6967 13 19.5 13C18.3034 13 17.3333 12.03 17.3333 10.8333C17.3333 9.63668 18.3034 8.66667 19.5 8.66667ZM4.33333 19.5C4.33333 18.3034 3.36328 17.3333 2.16667 17.3333C0.970049 17.3333 0 18.3034 0 19.5C0 20.6967 0.970049 21.6667 2.16667 21.6667C3.36328 21.6667 4.33333 20.6967 4.33333 19.5ZM10.8333 17.3333C12.03 17.3333 13 18.3034 13 19.5C13 20.6967 12.03 21.6667 10.8333 21.6667C9.63668 21.6667 8.66667 20.6967 8.66667 19.5C8.66667 18.3034 9.63668 17.3333 10.8333 17.3333ZM21.6667 19.5C21.6667 18.3034 20.6967 17.3333 19.5 17.3333C18.3034 17.3333 17.3333 18.3034 17.3333 19.5C17.3333 20.6967 18.3034 21.6667 19.5 21.6667C20.6967 21.6667 21.6667 20.6967 21.6667 19.5Z"},null,-1)]))}const n1=d(a1,[["render",r1],["__scopeId","data-v-20888049"]]),l1=()=>({setToLocalStorage:(t,s)=>{localStorage.setItem(t,JSON.stringify(s))},getLocalStorageItem:t=>{const s=localStorage.getItem(t);return s?JSON.parse(s):null}}),u1={class:"cardsLayouts"},c1={class:"cardsLayouts__wrap"},i1={class:"cardsLayouts__label",for:"layout-row"},C1={class:"cardsLayouts__wrap"},d1={class:"cardsLayouts__label",for:"layout-column"},_1=C({__name:"ListGamesCardsLayout",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){const e=R(l,"modelValue"),{setToLocalStorage:t,getLocalStorageItem:s}=l1();return Q(()=>{const n=s("layout");n?e.value=n:(e.value="layout-column",t("layout",e.value))}),y(()=>e.value,n=>{t("layout",n)}),(n,i)=>(r(),c("div",u1,[a("div",c1,[a("label",i1,[g(a("input",{type:"radio",name:"cards-layout-row",id:"layout-row",value:"layout-row","onUpdate:modelValue":i[0]||(i[0]=_=>e.value=_),class:"cardsLayouts__radio"},null,512),[[G,e.value]]),o(s1,{class:"cardsLayouts__icon"})])]),a("div",C1,[a("label",d1,[g(a("input",{type:"radio",name:"cards-layout-column",id:"layout-column",value:"layout-column","onUpdate:modelValue":i[1]||(i[1]=_=>e.value=_),class:"cardsLayouts__radio"},null,512),[[G,e.value]]),o(n1,{class:"cardsLayouts__icon"})])])]))}}),p1=d(_1,[["__scopeId","data-v-b97b79e4"]]),m1=C({__name:"TheFiltersReset",setup(l){const e=w(),t=b();let s=x(()=>Object.keys(e.query).length>1);const n=()=>{t.replace({path:e.path})};return(i,_)=>g((r(),c("button",{onClick:n,class:"filters-reset",type:"button"},[o(N,{width:13,height:14})],512)),[[V,p(s)]])}}),h1=d(m1,[["__scopeId","data-v-14a03b43"]]),g1={key:0,class:"result-value"},f1={key:0},v1=C({__name:"ListGamesResultsValue",props:{results:{}},setup(l){return(e,t)=>e.results?(r(),c("div",g1,[e.results>0?(r(),c("p",f1,[t[0]||(t[0]=a("span",null,"Results:",-1)),U(" "+B(e.results?e.results:0),1)])):L("",!0)])):L("",!0)}}),y1=d(v1,[["__scopeId","data-v-0dc1db28"]]),w1=C({__name:"ListGamesResults",props:{results:{}},setup(l){return(e,t)=>(r(),c(q,null,[o(y1,{results:e.results},null,8,["results"]),o(h1)],64))}}),L1={class:"productCard__picture"},$1={class:"productCard__name"},b1=C({__name:"CardProduct",props:{game:{},to:{}},setup(l){return(e,t)=>{const s=P("router-link");return r(),v(s,{to:e.to,class:"productCard"},{default:D(()=>[a("div",L1,[o(E,{src:e.game.image,alt:e.game.name,width:250,height:360,class:"productCard__img"},null,8,["src","alt"]),o(F,{rating:e.game.rating,class:"productCard__rating productCard__rating--column"},null,8,["rating"])]),a("p",$1,B(e.game.name),1),o(F,{rating:e.game.rating,class:"productCard__rating productCard__rating--row"},null,8,["rating"])]),_:1},8,["to"])}}}),M1=d(b1,[["__scopeId","data-v-9217e8aa"]]),I1=["width","height"],G1=C({__name:"IconErrorLogo",props:{width:{},height:{}},setup(l){return(e,t)=>(r(),c("svg",{width:e.width,height:e.height,viewBox:"0 0 143 164",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[0]||(t[0]=[a("path",{d:"M4.8821 161.847C1.14478 161.365 0.258373 159.135 0.261864 156.12C0.296001 126.623 -0.488647 97.0985 0.505841 67.6341C1.82107 28.6669 34.8111 -0.991375 74.0997 0.0253738C111.965 1.0053 141.989 32.4053 142.03 71.1214C142.06 98.9524 142.095 126.784 141.913 154.614C141.898 156.912 140.871 160.123 139.19 161.29C136.151 163.399 134.201 160.25 132.34 158.144C129.142 154.522 125.972 150.875 122.72 147.303C119.461 143.722 117.427 143.759 114.122 147.415C110.66 151.246 107.327 155.198 103.805 158.972C98.4071 164.756 90.9193 164.958 85.231 159.52C82.2206 156.642 79.3265 153.643 76.3833 150.695C71.8148 146.119 70.6363 146.078 66.1899 150.471C63.5832 153.046 61.0068 155.653 58.4543 158.282C51.6753 165.265 44.2473 165.218 37.7714 158.083C34.6361 154.628 31.5695 151.111 28.4678 147.626C24.943 143.666 23.0739 143.604 19.5612 147.463C16.1984 151.158 12.9789 154.986 9.5525 158.62C8.35224 159.893 6.72393 160.762 4.8821 161.847ZM95.8883 99.0299C98.3669 101.497 100.882 103.928 103.314 106.439C105.941 109.152 108.903 110.574 111.943 107.502C114.82 104.593 113.387 101.847 110.804 99.3205C105.566 94.1974 100.471 88.9285 95.2838 83.7534C90.3684 78.8497 88.2192 78.8675 83.2611 83.9422C79.2427 88.0552 75.3184 92.2602 70.8145 96.9891C65.7723 91.6831 61.5443 87.2086 57.2865 82.7627C54.6634 80.0236 51.7305 79.63 48.9577 82.3339C42.639 88.4955 36.3026 94.658 30.3756 101.185C29.2887 102.382 29.2254 106.193 30.2559 107.21C31.5997 108.535 34.5949 108.842 36.7091 108.508C38.2171 108.27 39.5309 106.337 40.781 105.017C44.6308 100.953 48.4083 96.8208 53.0304 91.8343C57.8477 97.0939 61.6673 101.49 65.7355 105.643C69.8702 109.863 72.1179 109.813 76.1845 105.649C80.4588 101.271 84.606 96.7694 89.5129 91.5769C91.9483 94.4544 93.6683 96.4866 95.8883 99.0299ZM39 55.5C35.323 62.5011 32.6491 58.6767 39 61.5C45.0469 64.1882 40.3243 66.4149 42.5 60C43.9966 55.5875 45.4962 57.1434 41.5 54.5C36.926 51.4744 44.6413 50.519 39 55.5ZM92.9281 56.2037C91.7222 62.0071 93.4697 66.6769 97.7927 69.2032C101.7 71.4867 106.959 71.0043 110.356 68.0104C113.794 64.9796 115.097 61.141 113.837 56.7711C112.581 52.4168 109.474 49.7082 104.948 49.0743C99.5401 48.3168 95.6267 50.6396 92.9281 56.2037Z",fill:"#FCFCFC"},null,-1),a("path",{d:"M95.6396 98.7743C93.6696 96.4866 91.9495 94.4543 89.5141 91.5768C84.6072 96.7694 80.46 101.271 76.1857 105.649C72.1192 109.813 69.8714 109.863 65.7367 105.643C61.6685 101.49 57.8489 97.0938 53.0316 91.8342C48.4095 96.8208 44.632 100.953 40.7822 105.017C39.5322 106.336 38.2184 108.27 36.7104 108.508C34.5961 108.842 31.6009 108.535 30.2571 107.21C29.2266 106.193 29.29 102.382 30.3768 101.185C36.3038 94.6579 42.6402 88.4955 48.9589 82.3338C51.7318 79.63 54.6646 80.0236 57.2877 82.7626C61.5455 87.2086 65.7735 91.6831 70.8157 96.9891C75.3196 92.2602 79.2439 88.0551 83.2624 83.9422C88.2204 78.8675 90.3696 78.8497 95.285 83.7534C100.472 88.9284 105.567 94.1974 110.805 99.3204C113.388 101.847 114.821 104.593 111.944 107.502C108.904 110.574 105.942 109.151 103.315 106.439C100.883 103.928 98.3681 101.496 95.6396 98.7743Z",fill:"#262626"},null,-1),a("path",{d:"M93.0449 55.8349C95.6283 50.639 99.5417 48.3162 104.95 49.0737C109.476 49.7077 112.582 52.4163 113.838 56.7706C115.099 61.1405 113.795 64.9791 110.357 68.0099C106.961 71.0037 101.702 71.4861 97.7943 69.2027C93.4713 66.6764 91.7238 62.0066 93.0449 55.8349Z",fill:"#242424"},null,-1),a("path",{d:"M31.4316 55.9013C34.015 50.7054 37.9284 48.3826 43.3364 49.1401C47.8626 49.7741 50.9692 52.4827 52.225 56.837C53.4854 61.2069 52.1822 65.0455 48.7439 68.0763C45.3475 71.0701 40.0886 71.5525 36.1811 69.2691C31.8581 66.7428 30.1106 62.073 31.4316 55.9013Z",fill:"#242424"},null,-1)]),8,I1))}}),F1={class:"no-results"},Z1=C({__name:"ListGamesError",setup(l){return(e,t)=>(r(),c("div",F1,[o(G1,{width:53,height:64}),t[0]||(t[0]=a("pre",null,`███╗   ██╗ ██████╗     ██████╗ ███████╗███████╗██╗   ██╗██╗  ████████╗███████╗
████╗  ██║██╔═══██╗    ██╔══██╗██╔════╝██╔════╝██║   ██║██║  ╚══██╔══╝██╔════╝
██╔██╗ ██║██║   ██║    ██████╔╝█████╗  ███████╗██║   ██║██║     ██║   ███████╗
██║╚██╗██║██║   ██║    ██╔══██╗██╔══╝  ╚════██║██║   ██║██║     ██║   ╚════██║
██║ ╚████║╚██████╔╝    ██║  ██║███████╗███████║╚██████╔╝███████╗██║   ███████║
╚═╝  ╚═══╝ ╚═════╝     ╚═╝  ╚═╝╚══════╝╚══════╝ ╚═════╝ ╚══════╝╚═╝   ╚══════╝
    `,-1))]))}}),k1=d(Z1,[["__scopeId","data-v-d19009de"]]),S1=C({__name:"ListGamesContent",props:{isFetching:{type:Boolean},games:{},layout:{}},setup(l){return(e,t)=>{var s,n;return e.isFetching?(r(),v(K,{key:0})):((s=e.games)==null?void 0:s.count)===0?(r(),v(k1,{key:1})):(r(),c("div",{key:2,class:z(["grid-card",e.layout])},[(r(!0),c(q,null,O((n=e.games)==null?void 0:n.results,i=>(r(),v(M1,{key:i.id,game:i,to:{name:"Game",params:{id:i.id}}},null,8,["game","to"]))),128))],2))}}}),V1={},x1={width:"22",height:"26",viewBox:"0 0 342 470",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function B1(l,e){return r(),c("svg",x1,e[0]||(e[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42 0C71 0 100 0 129 0C129 14 129 28 129 42C143.004 41.8334 157.004 42.0001 171 42.5C171.99 56.5879 172.324 70.7546 172 85C186 85 200 85 214 85C214 99.333 214 113.667 214 128C228.333 128 242.667 128 257 128C257 142 257 156 257 170C270.912 169.677 284.746 170.01 298.5 171C299 184.996 299.167 198.996 299 213C313.333 213 327.667 213 342 213C342 227.667 342 242.333 342 257C327.667 257 313.333 257 299 257C299 271.333 299 285.667 299 300C285 300 271 300 257 300C257 314 257 328 257 342C242.667 342 228.333 342 214 342C214 356.333 214 370.667 214 385C200 385 186 385 172 385C172 399 172 413 172 427C157.667 427 143.333 427 129 427C129 441.333 129 455.667 129 470C100 470 71 470 42 470C42 455.667 42 441.333 42 427C28 427 14 427 0 427C0 412.667 0 398.333 0 384C14 384 28 384 42 384C42 369.667 42 355.333 42 341C56.333 341 70.667 341 85 341C85 327 85 313 85 299C99.333 299 113.667 299 128 299C128 284.667 128 270.333 128 256C142.333 256 156.667 256 171 256C171 242 171 228 171 214C156.667 214 142.333 214 128 214C128 199.667 128 185.333 128 171C113.667 171 99.333 171 85 171C85 157 85 143 85 129C70.667 129 56.333 129 42 129C42 114.667 42 100.333 42 86C28 86 14 86 0 86C0 71.3333 0 56.6667 0 42C14 42 28 42 42 42C42 28 42 14 42 0ZM43 43C71.333 43 99.667 43 128 43C128 57.3333 128 71.6667 128 86C142.333 86 156.667 86 171 86C171 100.333 171 114.667 171 129C185 129 199 129 213 129C213 143 213 157 213 171C227.333 171 241.667 171 256 171C256 185.333 256 199.667 256 214C270 214 284 214 298 214C298 228 298 242 298 256C284 256 270 256 256 256C256 270.333 256 284.667 256 299C241.667 299 227.333 299 213 299C213 313 213 327 213 341C199 341 185 341 171 341C171 355.333 171 369.667 171 384C156.667 384 142.333 384 128 384C128 398 128 412 128 426C99.667 426 71.333 426 43 426C43 412.333 43 398.667 43 385C57.333 385 71.667 385 86 385C86 370.667 86 356.333 86 342C100.333 342 114.667 342 129 342C129 328 129 314 129 300C143.004 300.167 157.004 300 171 299.5C171.99 285.412 172.324 271.245 172 257C186 257 200 257 214 257C214 242.333 214 227.667 214 213C200 213 186 213 172 213C172.167 198.996 172 184.996 171.5 171C157.412 170.01 143.245 169.676 129 170C129 156 129 142 129 128C114.667 128 100.333 128 86 128C86 113.667 86 99.333 86 85C71.667 85 57.333 85 43 85C43 71 43 57 43 43Z",fill:"white"},null,-1)]))}const m=d(V1,[["render",B1],["__scopeId","data-v-a1a4336e"]]),q1={key:0,class:"gamesNav"},N1=["disabled"],T1=["disabled"],R1=C({__name:"ListGamesNavigation",props:{isFetching:{type:Boolean},games:{},refetch:{type:Function}},setup(l){const e=l,t=w(),s=b(),n=x(()=>Number(t.query.page)||1);y(()=>t.query,()=>e.refetch());const i=()=>{var u;(u=e.games)!=null&&u.next&&$(s,{page:n.value+1})},_=()=>{var u;(u=e.games)!=null&&u.prev&&$(s,{page:n.value-1}),n.value===2&&j(s,"page")};return(u,h)=>{var f,M,I;return u.games&&((f=u.games)==null?void 0:f.count)>20&&!u.isFetching?(r(),c("div",q1,[a("button",{disabled:((M=u.games)==null?void 0:M.prev)===null,onClick:_,class:"gamesNav__btn",type:"button"},[o(m,{style:{transform:"rotate(180deg)"}}),o(m,{style:{transform:"rotate(180deg)"}}),o(m,{style:{transform:"rotate(180deg)"}})],8,N1),a("button",{disabled:((I=u.games)==null?void 0:I.next)===null,onClick:i,class:"gamesNav__btn",type:"button"},[o(m),o(m),o(m)],8,T1)])):L("",!0)}}}),Q1=d(R1,[["__scopeId","data-v-97a3376c"]]),U1={class:"listGames"},P1={class:"listGames__top"},D1={class:"listGames__content"},E1=C({__name:"ListGames",setup(l){const e=w(),t=Z(""),{data:s,refetch:n,isFetching:i}=k({queryKey:["getGames",e.query],queryFn:()=>S({page_size:20,page:1,...e.query}),staleTime:1e3*60*5});return(_,u)=>{var h;return r(),c("div",U1,[o(X,{class:"listGames__search"}),a("div",P1,[o(w1,{results:(h=p(s))==null?void 0:h.count},null,8,["results"]),o(p1,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=f=>t.value=f)},null,8,["modelValue"])]),a("div",D1,[o(S1,{"is-fetching":p(i),games:p(s),layout:t.value},null,8,["is-fetching","games","layout"])]),o(Q1,{games:p(s),"is-fetching":p(i),refetch:p(n)},null,8,["games","is-fetching","refetch"])])}}}),O1={"aria-label":"Games page"},j1=C({__name:"GamesView",setup(l){return(e,t)=>(r(),c("section",O1,[o(E1)]))}});export{j1 as default};
